{"version":3,"file":"js/course-section.fbb6b8f2.js","mappings":"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","sources":["webpack://edu-fed/./src/views/course/section.vue","webpack://edu-fed/src/views/course/section.vue","webpack://edu-fed/./src/views/course/section.vue?eff6","webpack://edu-fed/./src/views/course/section.vue?9c95","webpack://edu-fed/./src/service/course.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"course-section\"},[_c('div',{staticClass:\"header\"},[_c('el-page-header',{attrs:{\"content\":_vm.courseName},on:{\"back\":_vm.goBack}}),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAddSection}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\" 添加阶段 \")])],1),_c('el-card',[_c('el-tree',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],attrs:{\"data\":_vm.sections,\"props\":_vm.defaultProps,\"draggable\":\"\",\"allow-drop\":_vm.handleDrop},on:{\"node-drop\":_vm.handleNode},scopedSlots:_vm._u([{key:\"default\",fn:function({ node, data}){return _c('div',{staticClass:\"inner\"},[_c('span',[_vm._v(_vm._s(node.label))]),(data.sectionName)?_c('span',{staticClass:\"actions\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEditSection(data)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleAddLesson(data)}}},[_vm._v(\"添加课时\")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleSectionStatus(data)}}},[_vm._v(\" \"+_vm._s(data.status === 0 ? '已隐藏' : data.status === 1 ? '待更新' : '已更新'))])],1):_c('span',{staticClass:\"actions\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEditLesson(data)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.$router.push({\n              name: 'course-video',\n              params: {\n                courseId: _vm.courseId,\n                lessonId: data.id\n              },\n              query: {\n                theme: data.theme,\n                duration: data.duration\n              }\n              })}}},[_vm._v(\" 上传视频\")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleLessonStatus(data)}}},[_vm._v(\" \"+_vm._s(data.status === 0 ? '已隐藏' : data.status === 1 ? '待更新' : '已更新'))])],1)])}}])})],1),_c('el-dialog',{attrs:{\"title\":_vm.isSectionEdit ? '章节信息' : '添加章节',\"visible\":_vm.sectionDialog,\"before-close\":_vm.closeSectionHandler,\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.sectionDialog=$event}}},[_c('el-form',{ref:\"sectionForm\",attrs:{\"model\":_vm.sectionForm,\"rules\":_vm.sectionRules,\"label-position\":\"right\",\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"课程名称\",\"prop\":\"courseName\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"disabled\":\"\"},model:{value:(_vm.sectionForm.courseName),callback:function ($$v) {_vm.$set(_vm.sectionForm, \"courseName\", $$v)},expression:\"sectionForm.courseName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"章节名称\",\"prop\":\"sectionName\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.sectionForm.sectionName),callback:function ($$v) {_vm.$set(_vm.sectionForm, \"sectionName\", $$v)},expression:\"sectionForm.sectionName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"章节描述\",\"prop\":\"description\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"type\":\"textarea\"},model:{value:(_vm.sectionForm.description),callback:function ($$v) {_vm.$set(_vm.sectionForm, \"description\", $$v)},expression:\"sectionForm.description\"}})],1),_c('el-form-item',{attrs:{\"label\":\"章节排序\",\"prop\":\"orderNum\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.sectionForm.orderNum),callback:function ($$v) {_vm.$set(_vm.sectionForm, \"orderNum\", $$v)},expression:\"sectionForm.orderNum\"}},[_c('template',{slot:\"append\"},[_vm._v(\"数字控制排序，数字越大越靠后\")])],2)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeSectionHandler}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmitSection}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.isLessonEdit ? '课时基本信息' : '添加课时',\"visible\":_vm.lessonDialog,\"before-close\":_vm.closeLessonHandler,\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.lessonDialog=$event}}},[_c('el-form',{ref:\"lessonForm\",attrs:{\"model\":_vm.lessonForm,\"rules\":_vm.lessonRules,\"label-position\":\"right\",\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"课程名称\",\"prop\":\"courseName\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"disabled\":\"\"},model:{value:(_vm.lessonForm.courseName),callback:function ($$v) {_vm.$set(_vm.lessonForm, \"courseName\", $$v)},expression:\"lessonForm.courseName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"章节名称\",\"prop\":\"sectionName\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"disabled\":\"\"},model:{value:(_vm.lessonForm.sectionName),callback:function ($$v) {_vm.$set(_vm.lessonForm, \"sectionName\", $$v)},expression:\"lessonForm.sectionName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"课时名称\",\"prop\":\"theme\"}},[_c('el-input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.lessonForm.theme),callback:function ($$v) {_vm.$set(_vm.lessonForm, \"theme\", $$v)},expression:\"lessonForm.theme\"}})],1),_c('el-form-item',{attrs:{\"label\":\"时长\",\"prop\":\"duration\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.lessonForm.duration),callback:function ($$v) {_vm.$set(_vm.lessonForm, \"duration\", $$v)},expression:\"lessonForm.duration\"}},[_c('template',{slot:\"append\"},[_vm._v(\"分钟\")])],2)],1),_c('el-form-item',{attrs:{\"label\":\"是否开放试听\",\"prop\":\"isFree\",\"label-width\":\"80\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"active-value\":1,\"inactive-value\":0},model:{value:(_vm.lessonForm.status),callback:function ($$v) {_vm.$set(_vm.lessonForm, \"status\", $$v)},expression:\"lessonForm.status\"}})],1),_c('el-form-item',{attrs:{\"label\":\"课时排序\",\"prop\":\"orderNum\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.lessonForm.orderNum),callback:function ($$v) {_vm.$set(_vm.lessonForm, \"orderNum\", $$v)},expression:\"lessonForm.orderNum\"}},[_c('template',{slot:\"append\"},[_vm._v(\"数字控制排序，数字越大越靠后\")])],2)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeLessonHandler}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmitLesson}},[_vm._v(\"确 定\")])],1)],1),(_vm.isLessonStatus)?_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.statusDialog,\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.statusDialog=$event}}},[_c('div',{staticClass:\"status\"},[_c('i',{staticClass:\"el-icon-info\"}),_c('span',[_vm._v(\"当前状态为：\"+_vm._s(_vm.lessonForm.status === 0 ? '已隐藏' : _vm.lessonForm.status === 1 ? '待更新' : '已更新'))])]),_c('el-form',{ref:\"lessonForm\",attrs:{\"model\":_vm.lessonForm,\"label-position\":\"right\",\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"提示\",\"prop\":\"status\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.changeLessonStatus},model:{value:(_vm.lessonForm.status),callback:function ($$v) {_vm.$set(_vm.lessonForm, \"status\", $$v)},expression:\"lessonForm.status\"}},[_c('el-option',{attrs:{\"label\":\"已隐藏\",\"value\":0}}),_c('el-option',{attrs:{\"label\":\"待更新\",\"value\":1}}),_c('el-option',{attrs:{\"label\":\"已更新\",\"value\":2}})],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.statusDialog = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmitStatus}},[_vm._v(\"确 定\")])],1)],1):_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.statusDialog,\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.statusDialog=$event}}},[_c('div',{staticClass:\"status\"},[_c('i',{staticClass:\"el-icon-info\"}),_c('span',[_vm._v(\"当前状态为：\"+_vm._s(_vm.lessonForm.status === 0 ? '已隐藏' : _vm.lessonForm.status === 1 ? '待更新' : '已更新'))])]),_c('el-form',{ref:\"sectionForm\",attrs:{\"model\":_vm.sectionForm,\"label-position\":\"right\",\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"提示\",\"prop\":\"status\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.changeLessonStatus},model:{value:(_vm.sectionForm.status),callback:function ($$v) {_vm.$set(_vm.sectionForm, \"status\", $$v)},expression:\"sectionForm.status\"}},[_c('el-option',{attrs:{\"label\":\"已隐藏\",\"value\":0}}),_c('el-option',{attrs:{\"label\":\"待更新\",\"value\":1}}),_c('el-option',{attrs:{\"label\":\"已更新\",\"value\":2}})],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.statusDialog = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmitStatus}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"course-section\">\r\n    <div class=\"header\">\r\n      <el-page-header @back=\"goBack\" :content=\"courseName\"></el-page-header>\r\n      <el-button type=\"primary\" @click=\"handleAddSection\">\r\n        <i class=\"el-icon-plus\"></i>\r\n          添加阶段\r\n      </el-button>\r\n    </div>\r\n    <el-card>\r\n      <el-tree\r\n        v-loading=\"isLoading\"\r\n        :data=\"sections\"\r\n        :props=\"defaultProps\"\r\n        draggable\r\n        :allow-drop=\"handleDrop\"\r\n        @node-drop=\"handleNode\">\r\n        <div class=\"inner\" slot-scope=\"{ node, data}\">\r\n          <span>{{ node.label }}</span>\r\n          <span v-if=\"data.sectionName\" class=\"actions\">\r\n            <el-button size=\"mini\" @click=\"handleEditSection(data)\">编辑</el-button>\r\n            <el-button size=\"mini\" type=\"primary\" @click=\"handleAddLesson(data)\">添加课时</el-button>\r\n            <el-button size=\"mini\" @click=\"handleSectionStatus(data)\">\r\n              {{data.status === 0 ? '已隐藏' : data.status === 1 ? '待更新' : '已更新'}}</el-button>\r\n          </span>\r\n          <span v-else class=\"actions\">\r\n              <el-button size=\"mini\" @click=\"handleEditLesson(data)\">编辑</el-button>\r\n              <el-button size=\"mini\"\r\n              type=\"success\"\r\n              @click=\"$router.push({\r\n                name: 'course-video',\r\n                params: {\r\n                  courseId,\r\n                  lessonId: data.id\r\n                },\r\n                query: {\r\n                  theme: data.theme,\r\n                  duration: data.duration\r\n                }\r\n                })\">\r\n              上传视频</el-button>\r\n              <el-button size=\"mini\" @click=\"handleLessonStatus(data)\">\r\n                {{data.status === 0 ? '已隐藏' : data.status === 1 ? '待更新' : '已更新'}}</el-button>\r\n          </span>\r\n        </div>\r\n      </el-tree>\r\n    </el-card>\r\n    <el-dialog\r\n    :title=\"isSectionEdit ? '章节信息' : '添加章节'\"\r\n    :visible.sync=\"sectionDialog\"\r\n    :before-close=\"closeSectionHandler\"\r\n    width=\"500px\">\r\n      <el-form :model=\"sectionForm\" ref=\"sectionForm\" :rules=\"sectionRules\" label-position=\"right\" label-width=\"80px\">\r\n        <el-form-item label=\"课程名称\" prop=\"courseName\">\r\n          <el-input v-model=\"sectionForm.courseName\" clearable disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"章节名称\" prop=\"sectionName\">\r\n          <el-input v-model=\"sectionForm.sectionName\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"章节描述\" prop=\"description\">\r\n          <el-input v-model=\"sectionForm.description\" clearable type=\"textarea\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"章节排序\" prop=\"orderNum\">\r\n          <el-input v-model=\"sectionForm.orderNum\" type=\"number\">\r\n            <template slot=\"append\">数字控制排序，数字越大越靠后</template>\r\n          </el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"closeSectionHandler\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"onSubmitSection\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <el-dialog\r\n    :title=\"isLessonEdit ? '课时基本信息' : '添加课时'\"\r\n    :visible.sync=\"lessonDialog\"\r\n    :before-close=\"closeLessonHandler\"\r\n    width=\"500px\">\r\n      <el-form :model=\"lessonForm\" ref=\"lessonForm\" :rules=\"lessonRules\" label-position=\"right\" label-width=\"80px\">\r\n        <el-form-item label=\"课程名称\" prop=\"courseName\">\r\n          <el-input v-model=\"lessonForm.courseName\" clearable disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"章节名称\" prop=\"sectionName\">\r\n          <el-input v-model=\"lessonForm.sectionName\" clearable disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"课时名称\" prop=\"theme\">\r\n          <el-input v-model=\"lessonForm.theme\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"时长\" prop=\"duration\">\r\n          <el-input v-model=\"lessonForm.duration\" type=\"number\">\r\n            <template slot=\"append\">分钟</template>\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"是否开放试听\" prop=\"isFree\" label-width=\"80\">\r\n            <el-switch\r\n              v-model=\"lessonForm.status\"\r\n              active-color=\"#13ce66\"\r\n              inactive-color=\"#ff4949\"\r\n              :active-value=\"1\"\r\n              :inactive-value=\"0\">\r\n            </el-switch>\r\n        </el-form-item>\r\n        <el-form-item label=\"课时排序\" prop=\"orderNum\">\r\n          <el-input v-model=\"lessonForm.orderNum\" type=\"number\">\r\n            <template slot=\"append\">数字控制排序，数字越大越靠后</template>\r\n          </el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"closeLessonHandler\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"onSubmitLesson\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <el-dialog  v-if=\"isLessonStatus\" title=\"提示\" :visible.sync=\"statusDialog\" width=\"500px\">\r\n      <div class=\"status\">\r\n        <i class=\"el-icon-info\"></i>\r\n        <span>当前状态为：{{lessonForm.status === 0 ? '已隐藏' : lessonForm.status === 1 ? '待更新' : '已更新'}}</span>\r\n      </div>\r\n      <el-form :model=\"lessonForm\" ref=\"lessonForm\" label-position=\"right\" label-width=\"100px\">\r\n        <el-form-item label=\"提示\" prop=\"status\">\r\n          <el-select placeholder=\"请选择\" v-model=\"lessonForm.status\" @change=\"changeLessonStatus\">\r\n            <el-option label=\"已隐藏\" :value=\"0\"></el-option>\r\n            <el-option label=\"待更新\" :value=\"1\"></el-option>\r\n            <el-option label=\"已更新\" :value=\"2\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"statusDialog = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"onSubmitStatus\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <el-dialog  v-else title=\"提示\" :visible.sync=\"statusDialog\" width=\"500px\">\r\n      <div class=\"status\">\r\n        <i class=\"el-icon-info\"></i>\r\n        <span>当前状态为：{{lessonForm.status === 0 ? '已隐藏' : lessonForm.status === 1 ? '待更新' : '已更新'}}</span>\r\n      </div>\r\n      <el-form :model=\"sectionForm\" ref=\"sectionForm\" label-position=\"right\" label-width=\"100px\">\r\n        <el-form-item label=\"提示\" prop=\"status\">\r\n          <el-select placeholder=\"请选择\" v-model=\"sectionForm.status\" @change=\"changeLessonStatus\">\r\n            <el-option label=\"已隐藏\" :value=\"0\"></el-option>\r\n            <el-option label=\"待更新\" :value=\"1\"></el-option>\r\n            <el-option label=\"已更新\" :value=\"2\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"statusDialog = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"onSubmitStatus\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getSectionAndLesson, saveOrUpdateSection, saveOrUpdateLesson } from '@/service/course'\r\n\r\nexport default {\r\n  name: 'CourseSection',\r\n  props: {\r\n    courseId: {\r\n      type: [Number, String],\r\n      require: true\r\n    },\r\n    courseName: {\r\n      type: String,\r\n      require: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      sections: [],\r\n      defaultProps: {\r\n        children: 'lessonDTOS',\r\n        label (data) {\r\n          // data 章节和课时的节点名不同检测后分别使用\r\n          return data.sectionName || data.theme\r\n        }\r\n      },\r\n      isLoading: false,\r\n      sectionDialog: false,\r\n      lessonDialog: false,\r\n      statusDialog: false,\r\n      isSectionEdit: false,\r\n      isLessonEdit: false,\r\n      isLessonStatus: false,\r\n      sectionForm: {\r\n        id: null,\r\n        courseId: this.courseId,\r\n        courseName: this.courseName,\r\n        sectionName: '',\r\n        description: '',\r\n        orderNum: 0,\r\n        status: 0\r\n      },\r\n      lessonForm: {\r\n        courseName: this.courseName,\r\n        sectionName: '',\r\n        id: null,\r\n        courseId: 0,\r\n        sectionId: 0,\r\n        theme: '',\r\n        duration: 0,\r\n        isFree: true,\r\n        orderNum: 0,\r\n        status: 0\r\n      },\r\n      sectionRules: {\r\n        courseName: [\r\n          { required: true }\r\n        ],\r\n        sectionName: [\r\n          { required: true, message: '请输入章节名称', trigger: 'blur' },\r\n          { min: 3, max: 40, message: '长度在 3 到 40 个字符', trigger: 'blur' }\r\n        ]\r\n      },\r\n      lessonRules: {\r\n        courseName: [\r\n          { required: true }\r\n        ],\r\n        sectionName: [\r\n          { required: true }\r\n        ],\r\n        theme: [\r\n          { required: true, message: '请输入课时名称', trigger: 'blur' },\r\n          { min: 3, max: 100, message: '长度在 3 到 100 个字符', trigger: 'blur' }\r\n        ],\r\n        duration: [\r\n          { required: true },\r\n          { min: 0, message: '请输入正确时长', trigger: 'blur' }\r\n        ],\r\n        isFree: [\r\n          { required: true }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.loadSectionAndLesson()\r\n  },\r\n  methods: {\r\n    async loadSectionAndLesson () {\r\n      const { data } = await getSectionAndLesson(this.courseId)\r\n      if (data.code === '000000') {\r\n        this.sections = data.data\r\n      }\r\n    },\r\n    handleDrop (draggingNode, dropNode, type) {\r\n      return type !== 'inner' && draggingNode.data.sectionId === dropNode.data.sectionId\r\n    },\r\n    async handleNode (draggingNode, dropNode, type, event) {\r\n      this.isLoading = true\r\n      try {\r\n        await Promise.all(dropNode.parent.childNodes.map((item, index) => {\r\n          if (draggingNode.data.sectionId) {\r\n            return saveOrUpdateLesson({\r\n              id: item.data.id,\r\n              orderNum: index\r\n            })\r\n          } else {\r\n            return saveOrUpdateSection({\r\n              id: item.data.id,\r\n              orderNum: index\r\n            })\r\n          }\r\n        }))\r\n        this.$message.success('数据更新成功！')\r\n      } catch (err) {\r\n        this.$message.error('数据更新失败！', err)\r\n      }\r\n      this.isLoading = false\r\n    },\r\n    goBack () {\r\n      this.$router.push({ name: 'course' })\r\n    },\r\n    async onSubmitSection () {\r\n      const { data } = await saveOrUpdateSection(this.sectionForm)\r\n      console.log(data)\r\n      if (data.code === '000000') {\r\n        this.loadSectionAndLesson()\r\n        this.sectionDialog = false\r\n        this.$refs.sectionForm.resetFields()\r\n        this.$message.success(`${this.isSectionEdit ? '编辑章节成功！' : '添加章节成功！'}`)\r\n      }\r\n    },\r\n    handleAddSection () {\r\n      this.isSectionEdit = false\r\n      this.sectionDialog = true\r\n    },\r\n    handleEditSection (row) {\r\n      this.isSectionEdit = true\r\n      this.sectionDialog = true\r\n      this.sectionForm.sectionName = row.sectionName\r\n      this.sectionForm.description = row.description\r\n      this.sectionForm.orderNum = row.orderNum\r\n      this.sectionForm.id = row.id\r\n    },\r\n    closeSectionHandler () {\r\n      this.sectionDialog = false\r\n      this.$refs.sectionForm.resetFields()\r\n    },\r\n    closeLessonHandler () {\r\n      this.lessonDialog = false\r\n      this.$refs.lessonForm.resetFields()\r\n    },\r\n    handleAddLesson (row) {\r\n      this.lessonForm.sectionName = row.sectionName\r\n      this.lessonForm.courseId = row.courseId\r\n      this.lessonForm.sectionId = row.id\r\n      this.isLessonEdit = false\r\n      this.lessonDialog = true\r\n    },\r\n    handleEditLesson (row) {\r\n      this.isLessonEdit = true\r\n      this.lessonForm.id = row.id\r\n      this.lessonForm.courseId = row.courseId\r\n      this.lessonForm.sectionId = row.sectionId\r\n      this.lessonForm.theme = row.theme\r\n      this.lessonForm.duration = row.duration\r\n      this.lessonForm.isFree = row.isFree\r\n      this.lessonForm.orderNum = row.orderNum\r\n      this.lessonForm.status = row.status\r\n      this.lessonDialog = true\r\n    },\r\n    async onSubmitLesson () {\r\n      const { data } = await saveOrUpdateLesson(this.lessonForm)\r\n      if (data.code === '000000') {\r\n        this.loadSectionAndLesson()\r\n        this.closeLessonHandler()\r\n        this.$message.success(`${this.isLessonEdit ? '编辑课时成功！' : '添加课时成功！'}`)\r\n      }\r\n    },\r\n    handleLessonStatus (row) {\r\n      this.isLessonStatus = true\r\n      this.lessonForm = row\r\n      this.statusDialog = true\r\n    },\r\n    handleSectionStatus (row) {\r\n      console.log(row)\r\n      this.isLessonStatus = false\r\n      this.sectionForm.id = row.id\r\n      this.sectionForm.courseId = row.courseId\r\n      this.sectionForm.sectionName = row.sectionName\r\n      this.sectionForm.description = row.description\r\n      this.sectionForm.orderNum = row.orderNum\r\n      this.sectionForm.status = row.status\r\n      this.statusDialog = true\r\n    },\r\n    changeLessonStatus (value) {\r\n      this.lessonForm.status = value\r\n    },\r\n    async onSubmitStatus () {\r\n      if (!this.isLessonStatus) {\r\n        const { data } = await saveOrUpdateSection(this.sectionForm)\r\n        if (data.code === '000000') {\r\n          this.statusDialog = false\r\n          this.$message.success('章节状态更新成功！')\r\n        }\r\n      } else {\r\n        const { data } = await saveOrUpdateLesson(this.lessonForm)\r\n        if (data.code === '000000') {\r\n          this.statusDialog = false\r\n          this.$message.success('课时状态更新成功！')\r\n        }\r\n      }\r\n      this.loadSectionAndLesson()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .header {\r\n    padding: 10px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n  .inner {\r\n    flex: 1;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 10px;\r\n    border-bottom: 1px solid #eee;\r\n  }\r\n  ::v-deep .el-tree-node__content {\r\n    height: auto;\r\n  }\r\n  .status {\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: 20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-bottom: 20px;\r\n    i {\r\n      display: block;\r\n      font-size: 50px;\r\n      margin-bottom: 20px;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./section.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./section.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./section.vue?vue&type=template&id=46683733&scoped=true&\"\nimport script from \"./section.vue?vue&type=script&lang=js&\"\nexport * from \"./section.vue?vue&type=script&lang=js&\"\nimport style0 from \"./section.vue?vue&type=style&index=0&id=46683733&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46683733\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\r\n\r\n// 分页查询课程信息\r\nexport const getQueryCourses = (data) => request({ method: 'POST', url: '/boss/course/getQueryCourses', data })\r\n\r\n// 课程上下架接口\r\nexport const changeState = (params) => request({ method: 'GET', url: '/boss/course/changeState', params })\r\n\r\n// 保存或更新课程信息\r\nexport const saveOrUpdateCourse = (data) => request({ method: 'POST', url: '/boss/course/saveOrUpdateCourse', data })\r\n\r\n// 上传图片接口\r\nexport const uploadCourseImage = (data, onUploadProgress) => request({ method: 'POST', url: '/boss/course/upload', data, onUploadProgress })\r\n\r\n// 通过课程 ID 获取课程信息接口\r\nexport const getCourseById = (courseId) => request({ method: 'GET', url: `/boss/course/getCourseById?courseId=${courseId}` })\r\n\r\n// 获取章节和课程接口\r\nexport const getSectionAndLesson = (courseId) => request({ method: 'GET', url: `/boss/course/section/getSectionAndLesson?courseId=${courseId}` })\r\n\r\n// 新增或更新章节\r\nexport const saveOrUpdateSection = (data) => request({ method: 'POST', url: '/boss/course/section/saveOrUpdateSection', data })\r\n\r\n// 新增或更新课时\r\nexport const saveOrUpdateLesson = (data) => request({ method: 'POST', url: '/boss/course/lesson/saveOrUpdate', data })\r\n"],"names":["render","_vm","this","_c","_self","staticClass","attrs","courseName","on","goBack","handleAddSection","_v","directives","name","rawName","value","isLoading","expression","sections","defaultProps","handleDrop","handleNode","scopedSlots","_u","key","fn","node","data","_s","label","sectionName","$event","handleEditSection","handleAddLesson","handleSectionStatus","status","handleEditLesson","$router","push","params","courseId","lessonId","id","query","theme","duration","handleLessonStatus","isSectionEdit","sectionDialog","closeSectionHandler","ref","sectionForm","sectionRules","model","callback","$$v","$set","description","orderNum","slot","onSubmitSection","isLessonEdit","lessonDialog","closeLessonHandler","lessonForm","lessonRules","onSubmitLesson","isLessonStatus","statusDialog","changeLessonStatus","onSubmitStatus","staticRenderFns","props","type","require","children","sectionId","isFree","required","message","trigger","min","max","created","methods","console","component","getQueryCourses","request","method","url","changeState","saveOrUpdateCourse","uploadCourseImage","onUploadProgress","getCourseById","getSectionAndLesson","saveOrUpdateSection","saveOrUpdateLesson"],"sourceRoot":""}