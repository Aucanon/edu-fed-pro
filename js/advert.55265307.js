"use strict";(self["webpackChunkedu_fed"]=self["webpackChunkedu_fed"]||[]).push([[966],{1426:function(t,e,a){a.r(e),a.d(e,{default:function(){return v}});var n=function(){var t=this,e=t._self._c;return e("div",[e("advert-list")],1)},r=[],s=(a(7658),function(){var t=this,e=t._self._c;return e("div",{staticClass:"advert-list"},[e("el-card",[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.$router.push({name:"advert-create"})}}},[t._v(" 添加广告")]),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:t.advert}},[e("el-table-column",{attrs:{prop:"id",label:"ID",width:"120",align:"center"}}),e("el-table-column",{attrs:{prop:"name",label:"广告名称",align:"center"}}),e("el-table-column",{attrs:{prop:"spaceName",label:"广告位置",width:"150",align:"center"}}),e("el-table-column",{attrs:{prop:"name",label:"广告图片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{attrs:{height:"80px",src:t.row.img||"https://edu-lagou.oss-cn-beijing.aliyuncs.com/images/2021/11/10/16365363744812522.png"}})]}}])}),e("el-table-column",{attrs:{prop:"createTime",label:"时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",[t._v("开始时间："+t._s(a.row.startTimeFormatString))]),e("p",[t._v("到期时间："+t._s(a.row.endTimeFormatString))])]}}])}),e("el-table-column",{attrs:{prop:"status",label:"上线/下线",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(e){return t.handleChangeStatus(a.row)}},model:{value:a.row.status,callback:function(e){t.$set(a.row,"status",e)},expression:"scope.row.status"}})]}}])}),e("el-table-column",{attrs:{prop:"address",label:"操作",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.$router.push({name:"advert-edit",query:{id:a.row.id,name:a.row.name,spaceId:a.row.spaceId,img:a.row.img,link:a.row.link,text:a.row.text,startTime:a.row.startTime,endTime:a.row.endTime,status:a.row.status}})}}},[t._v("编辑")])]}}])})],1)],1)],1)}),o=[],i=a(2936),l={name:"AdvertList",data(){return{advert:[],isLoading:!1}},created(){this.loadAdvertList(),this.loadAdvertspace()},methods:{async loadAdvertList(){this.isLoading=!0;const{data:t}=await(0,i.hW)();1===t.state&&(this.advert=t.content,console.log("广告列表",t)),this.isLoading=!1},async loadAdvertspace(){const{data:t}=await(0,i.VR)();console.log("广告位",t)},handleChangeStatus(t){this.$confirm("是否修改上线状态？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{const{data:e}=await(0,i.s1)(t);1===e.state&&(this.loadAdvertList(),this.$message.success("状态修改成功！"))})).catch((()=>{this.loadAdvertList(),this.$message({type:"info",message:"已取消修改"})}))}}},c=l,d=a(1001),u=(0,d.Z)(c,s,o,!1,null,"4f8dd9a0",null),m=u.exports,p={name:"AdvertIndex",components:{AdvertList:m}},f=p,h=(0,d.Z)(f,n,r,!1,null,"1f2a0c1a",null),v=h.exports},2936:function(t,e,a){a.d(e,{Ix:function(){return i},VR:function(){return s},hW:function(){return r},hr:function(){return l},s1:function(){return o},zZ:function(){return c}});var n=a(5286);const r=()=>(0,n.Z)({method:"GET",url:"/front/ad/getAdList"}),s=()=>(0,n.Z)({method:"GET",url:"/front/ad/space/getAllSpaces"}),o=t=>(0,n.Z)({method:"GET",url:"/front/ad/updateStatus",params:t}),i=t=>(0,n.Z)({method:"POST",url:"/front/upload/img",data:t}),l=t=>(0,n.Z)({method:"POST",url:"/front/ad/saveOrUpdate",data:t}),c=t=>(0,n.Z)({method:"POST",url:"/front/ad/space/saveOrUpdate",data:t})}}]);
//# sourceMappingURL=advert.55265307.js.map